<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Counts of things naturally scale with the length or duration of observation, the area sampled, and sampling intensity (Citation: McElreath, 2018McElreath,  R.  (2018).  Statistical rethinking: A bayesian course with examples in r and stan.   Chapman; Hall/CRC. ) . For instance, the longer the river stretch we survey, the more fish we&rsquo;ll tend to find.
Offset terms are used to model rates &ndash; e.g., counts per unit area or time. In the context of the model, the offset term transforms the response variable from a rate to a count."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="The offset term"><meta property="og:description" content="Counts of things naturally scale with the length or duration of observation, the area sampled, and sampling intensity (Citation: McElreath, 2018McElreath,  R.  (2018).  Statistical rethinking: A bayesian course with examples in r and stan.   Chapman; Hall/CRC. ) . For instance, the longer the river stretch we survey, the more fish we&rsquo;ll tend to find.
Offset terms are used to model rates &ndash; e.g., counts per unit area or time. In the context of the model, the offset term transforms the response variable from a rate to a count."><meta property="og:type" content="article"><meta property="og:url" content="https://lzachmann.github.io/models-for-missing-data/posts/offsets/"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2022-04-06T14:59:45-06:00"><title>The offset term | Models for missing data</title><link rel=manifest href=/models-for-missing-data/manifest.json><link rel=icon href=/models-for-missing-data/favicon.png type=image/x-icon><link rel=stylesheet href=/models-for-missing-data/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/models-for-missing-data/flexsearch.min.js></script>
<script defer src=/models-for-missing-data/en.search.min.742c77ad7058f32666da1323e0311b0e568e56869e6900db9b1f821bfc6d31d1.js integrity="sha256-dCx3rXBY8yZm2hMj4DEbDlaOVoaeaQDbmx+CG/xtMdE=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W93Y6ZYE7X"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W93Y6ZYE7X",{anonymize_ip:!1})}</script><link rel=stylesheet type=text/css href=/models-for-missing-data/hugo-cite.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/models-for-missing-data/><span>Models for missing data</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Getting started</span><ul><li><a href=/models-for-missing-data/docs/0-getting-started/installation/>Installation</a></li><li><a href=/models-for-missing-data/docs/0-getting-started/requirements/>Requirements</a></li><li><a href=/models-for-missing-data/docs/0-getting-started/quickstart/>Quickstart</a></li></ul></li><li><span>Guide</span><ul><li><input type=checkbox id=section-1bb19b4a3ba83aba0cc27d50cb56f078 class=toggle>
<label for=section-1bb19b4a3ba83aba0cc27d50cb56f078 class="flex justify-between"><a role=button>Data</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/a-data/i-y-info/>Response data</a></li><li><a href=/models-for-missing-data/docs/1-guide/a-data/ii-x-info/>Covariate data</a></li><li><a href=/models-for-missing-data/docs/1-guide/a-data/iii-types-of-random-variables/>Types of random variables</a><ul></ul></li></ul></li><li><input type=checkbox id=section-df8b9a8fadb3aac4bacdd1a4f66ee700 class=toggle>
<label for=section-df8b9a8fadb3aac4bacdd1a4f66ee700 class="flex justify-between"><a href=/models-for-missing-data/docs/1-guide/b-config-files/>Config files</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/design-metadata/>Design metadata</a><ul></ul></li><li><input type=checkbox id=section-c07b45d86b089188bfbcb6cdd933f6be class=toggle>
<label for=section-c07b45d86b089188bfbcb6cdd933f6be class="flex justify-between"><a role=button>Block / the data</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-data/response-info/>Response info</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-data/site-loc-info/>Location info</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-data/covariate-info/>Covariate info</a></li></ul></li><li><input type=checkbox id=section-465c5722e3b7de08e6b406c7b30f6cfe class=toggle>
<label for=section-465c5722e3b7de08e6b406c7b30f6cfe class="flex justify-between"><a role=button>Block / the model</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/likelihood-function/>Likelihood function</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/link-function/>Link function</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/group-level-effects/>Group-level effects</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/variances/>Variances</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/covariates/>Covariates</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-model/inits/>Initial values</a></li></ul></li><li><input type=checkbox id=section-a7ae9a68c33c64599bb16bc7b6e95b4c class=toggle>
<label for=section-a7ae9a68c33c64599bb16bc7b6e95b4c class="flex justify-between"><a role=button>Block / extras</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/conditions/>Conditions</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/finite-pop/>Finite population correction</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/marginal-effects/>Marginal effects</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/ppc-facets/>Posterior predictive checks</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/trend-step-size/>Trend step size</a><ul></ul></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/exposure/>Exposure / offset</a></li><li><a href=/models-for-missing-data/docs/1-guide/b-config-files/block-extras/nc-param/>Non-centered parameterization</a><ul></ul></li></ul></li></ul></li><li><input type=checkbox id=section-9b2d1dca484514277fe4388313831216 class=toggle>
<label for=section-9b2d1dca484514277fe4388313831216 class="flex justify-between"><a role=button>Outputs</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/object-types/>Object types</a><ul></ul></li><li><input type=checkbox id=section-14e60cfee5650eb7fac0fe7ab0d03678 class=toggle>
<label for=section-14e60cfee5650eb7fac0fe7ab0d03678 class="flex justify-between"><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/>The output directory</a></label><ul><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/00-input/>00-input</a><ul></ul></li><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/01-diagnostics/>01-diagnostics</a><ul></ul></li><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/02-checking/>02-checking</a><ul></ul></li><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/03-inference/>03-inference</a><ul></ul></li><li><a href=/models-for-missing-data/docs/1-guide/c-outputs/output-dir/99-misc/>99-misc</a><ul></ul></li></ul></li></ul></li><li><a href=/models-for-missing-data/docs/1-guide/d-worked-examples/>Worked examples</a><ul></ul></li></ul></li><li><a href=/models-for-missing-data/docs/2-best-practices/>Best practices</a><ul></ul></li></ul><ul><li><a href=/models-for-missing-data/posts/>Posts</a></li><li><a href=https://github.com/lzachmann/models-for-missing-data target=_blank rel=noopener>GitHub</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/models-for-missing-data/svg/menu.svg class=book-icon alt=Menu></label>
<strong>The offset term</strong>
<label for=toc-control><img src=/models-for-missing-data/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#why-do-we-need-an-offset>Why do we need an offset?</a></li><li><a href=#references>References</a></li></ul></nav></aside></header><article class=markdown><h1><a href=/models-for-missing-data/posts/offsets/>The offset term</a></h1><div><a href=/models-for-missing-data/categories/background/>background</a></div><div><a href=/models-for-missing-data/tags/statistics/>statistics</a></div><p>Counts of things naturally scale with the length or duration of observation, the area sampled, and sampling intensity
<span class=hugo-cite-intext itemprop=citation>(<span class=hugo-cite-group>
<a href=#mcelreath2018statistical><span class=visually-hidden>Citation: </span><span itemprop=author itemscope itemtype=https://schema.org/Person><meta itemprop=givenName content="Richard"><span itemprop=familyName>McElreath</span></span>, <span itemprop=datePublished>2018</span></a><span class=hugo-cite-citation>
<span itemscope itemtype=https://schema.org/Book data-type=book><span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=familyName>McElreath</span>, <meta itemprop=givenName content="Richard">R.</span> 
(<span itemprop=datePublished>2018</span>).
 <span itemprop=name><i>Statistical rethinking: A bayesian course with examples in r and stan</i></span>.
 
<span itemprop=publisher itemtype=http://schema.org/Organization itemscope><span itemprop=name>Chapman; Hall/CRC</span></span>.</span>
</span></span>)</span>
. For instance, the longer the river stretch we survey, the more fish we&rsquo;ll tend to find.</p><p>Offset terms are used to model rates &ndash; e.g., counts per unit area or time. In the context of the model, the offset term transforms the response variable from a rate to a count.</p><h2 id=why-do-we-need-an-offset>Why do we need an offset?
<a class=anchor href=#why-do-we-need-an-offset>#</a></h2><p>Why can&rsquo;t we simply derive a new response variable by normalizing the original counts by the relevant sampling unit? The distributions we use to model counts have support for discrete-valued variables. Transformations of the counts can violate that requirement. For instance, say we counts signs of human disturbance in 20m-by-50m plots. If we see 60 signs, that&rsquo;s 60 / (20 * 50) = 0.06. Although the mean of a Poisson distributed variable can be continuous, observations cannot be. Thus, transforming the response variable from counts to a rate is incorrect.</p><blockquote class="book-hint warning">The offset needs to be on the same scale as the linear predictor. In the case of a log link model, this requires the offset variable to be logged before inclusion in the model</blockquote><p>poi_r &lt;- glm(numclaims ~ x1+x2+x3,data=train, family = &ldquo;poisson&rdquo;, offset=log(exposure))</p><p>Typically we use offsets when the sampling unit (time, area, exposure) varies across observations. For example, species richness in riparian areas in arid ecosystems is often evaluated for the entire riparian area, which tend to be quite small. But the actual extent of each riparian area might differ.</p><hr><h2 id=references>References
<a class=anchor href=#references>#</a></h2><section class=hugo-cite-bibliography><dl><div id=mcelreath2018statistical><dt>McElreath
(2018)</dt><dd><span itemscope itemtype=https://schema.org/Book data-type=book><span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=familyName>McElreath</span>, <meta itemprop=givenName content="Richard">R.</span> 
(<span itemprop=datePublished>2018</span>).
 <span itemprop=name><i>Statistical rethinking: A bayesian course with examples in r and stan</i></span>.
 
<span itemprop=publisher itemtype=http://schema.org/Organization itemscope><span itemprop=name>Chapman; Hall/CRC</span></span>.</span></dd></div></dl></section></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/lzachmann/models-for-missing-data/commit/fe075e8e8b3953a1727deff0322ce019bc649bdb title="Last modified by Luke Zachmann | Apr 6, 2022" target=_blank rel=noopener><img src=/models-for-missing-data/svg/calendar.svg class=book-icon alt=Calendar>
<span>Apr 6, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/lzachmann/models-for-missing-data/edit/main/docs/website/content/posts/offsets.md target=_blank rel=noopener><img src=/models-for-missing-data/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#why-do-we-need-an-offset>Why do we need an offset?</a></li><li><a href=#references>References</a></li></ul></nav></div></aside></main></body></html>
<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Sampling design #  Luke was here. Two high-level &ldquo;attributes&rdquo; files are required for all analyses. So long as the basic details of the sampling design they describe do not vary for different measures within a park, or different park units within a network, they only need to be specified once.
The config directory #  The file tree needed to configure analysis of data from a given park unit (<unit code>) in a given network (<network code>) looks like the following"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Sampling design"><meta property="og:description" content="Sampling design #  Luke was here. Two high-level &ldquo;attributes&rdquo; files are required for all analyses. So long as the basic details of the sampling design they describe do not vary for different measures within a park, or different park units within a network, they only need to be specified once.
The config directory #  The file tree needed to configure analysis of data from a given park unit (<unit code>) in a given network (<network code>) looks like the following"><meta property="og:type" content="article"><meta property="og:url" content="https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/sampling-design/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-08-23T11:22:57-06:00"><title>Sampling design | Models for missing data</title><link rel=manifest href=/models-for-missing-data/manifest.json><link rel=icon href=/models-for-missing-data/favicon.png type=image/x-icon><link rel=stylesheet href=/models-for-missing-data/book.min.44d646274b130ab88a21f0e2d365f1bbb5167a4df0287f8376c42ce0cd7d1919.css integrity="sha256-RNZGJ0sTCriKIfDi02Xxu7UWek3wKH+DdsQs4M19GRk=" crossorigin=anonymous><script defer src=/models-for-missing-data/flexsearch.min.js></script><script defer src=/models-for-missing-data/en.search.min.6c66340a289217fb43891bf2d8f1cd0b490333c1f2e802960dbcd2a6ae71f5dd.js integrity="sha256-bGY0CiiSF/tDiRvy2PHNC0kDM8Hy6AKWDbzSpq5x9d0=" crossorigin=anonymous></script><link rel=stylesheet type=text/css href=/models-for-missing-data/hugo-cite.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/models-for-missing-data/><span>Models for missing data</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/>Guide</a><ul><li><input type=checkbox id=section-f7766582f62ab983cd62571b7c710fac class=toggle checked>
<label for=section-f7766582f62ab983cd62571b7c710fac class="flex justify-between"><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/>Analysis inputs</a></label><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/sampling-design/ class=active>Sampling design</a></li><li><input type=checkbox id=section-35783569a5ce73f2b5c1ecc0d6500018 class=toggle>
<label for=section-35783569a5ce73f2b5c1ecc0d6500018 class="flex justify-between"><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/>Metadata syntax</a></label><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/data-block/>Data Block</a><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/data-block/response-info/>Response info</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/data-block/site-loc-info/>Site location</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/data-block/covariate-info/>Covariates</a></li></ul></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/model-block/>Model Block</a><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/model-block/likelihood/>Likelihood</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/model-block/link/>Link function</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/model-block/group-level-effects/>Group-level effects</a></li></ul></li></ul></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/monitoring-data/>Monitoring data</a></li></ul></li><li><input type=checkbox id=section-d7373ca643fcc6c02c8442c160b52546 class=toggle>
<label for=section-d7373ca643fcc6c02c8442c160b52546 class="flex justify-between"><a role=button>Model info</a></label><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/model-info/data-types/>Data Types</a><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/model-info/data-types/counts/>Counts</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/model-info/data-types/proportions/>Proportions</a></li></ul></li></ul></li><li><input type=checkbox id=section-3bbc37212c4a16cbcb354e76443d9d1c class=toggle>
<label for=section-3bbc37212c4a16cbcb354e76443d9d1c class="flex justify-between"><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/usage/>Usage</a></label><ul><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/usage/gui/>Graphical user interface</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/usage/cli/>Command line interface</a></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/usage/model-builder/>Model builder</a></li></ul></li></ul></li><li><a href=https://lzachmann.github.io/models-for-missing-data/docs/faq/>FAQ</a><ul></ul></li></ul><ul><li><a href=/models-for-missing-data/posts/>Posts</a></li><li><a href=https://github.com/lzachmann/models-for-missing-data target=_blank rel=noopener>GitHub</a></li></ul></nav><script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/models-for-missing-data/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Sampling design</strong>
<label for=toc-control><img src=/models-for-missing-data/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#the-config-directory>The config directory</a><ul><li><a href=#network-level-attributes>Network-level attributes</a></li><li><a href=#park-level-attributes>Park-level attributes</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=sampling-design>Sampling design
<a class=anchor href=#sampling-design>#</a></h1><p>Luke was here. Two high-level &ldquo;attributes&rdquo; files are required for all analyses. So long as the basic details of the sampling design they describe do not vary for different measures within a park, or different park units within a network, they only need to be specified once.</p><h2 id=the-config-directory>The config directory
<a class=anchor href=#the-config-directory>#</a></h2><p>The file tree needed to configure analysis of data from a given park unit (<code>&lt;unit code></code>) in a given network (<code>&lt;network code></code>) looks like the following</p><pre><code>. # project root
└── config/
    └── &lt;network code&gt;/
        ├── &lt;unit code&gt;/
        │   ├── _park-level-attributes.yml
        │   └── &lt;analysis file&gt;.yml
        └── _network-level-attributes.yml
</code></pre><p>The directory structure, as shown, is relative to the root of the project on your file system. The contents of <code>&lt;analysis file>.yml</code> are described in the <a href=https://lzachmann.github.io/models-for-missing-data/docs/guide/analysis-inputs/metadata-syntax/>model metadata</a> section. To take a real-world example from an analysis of richness data at Little Bighorn Battlefield National Monument (LIBI) Rocky Mountain Network (ROMN), this might look like</p><pre><code>.
└── config/
    └── ROMN/
        ├── LIBI/
        │   ├── _park-level-attributes.yml
        │   └── richness.yml
        └── _network-level-attributes.yml
</code></pre><h3 id=network-level-attributes>Network-level attributes
<a class=anchor href=#network-level-attributes>#</a></h3><p>These attributes, which appear in the file <code>_network-level-attributes.yml</code>, consist of several key-value pairs used to define the park unit code (<code>unit code column</code>) by whatever name it goes by in the raw data, the name of the column containing the site ID (<code>site id column</code>), and a nested set of key-value pairs used to describe the date associated with each observation.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-YAML data-lang=YAML><span style=color:#f92672>unit code column</span>: <span style=color:#ae81ff>Park</span>
<span style=color:#f92672>site id column</span>: <span style=color:#ae81ff>SiteName</span>
<span style=color:#f92672>event date info</span>:
    <span style=color:#f92672>date-time column</span>: <span style=color:#ae81ff>Year</span>
    <span style=color:#f92672>date-time format</span>: <span style=color:#66d9ef>Y</span>!  <span style=color:#75715e># see lubridate::parse_date_time() for details</span>
</code></pre></div><h3 id=park-level-attributes>Park-level attributes
<a class=anchor href=#park-level-attributes>#</a></h3><p>Park-level metadata, stored in <code>_park-level-attributes.yml</code>, cannot be defined at a higher level because most, if not all, of this information applies only to an individual park, and not to other park units in the network. Specifically, we use this file to describe the column in the raw data that defines the strata (<code>stratum id column</code>), if present and the associated stratum areas (<code>stratum area info</code>). These areas, in turn, are used internally to computed a weighted mean at the park scale. Each entry beneath <code>stratum area info</code> must correspond to the actual stratum IDs in the column indicated by <code>stratum id column</code>. If there are no strata, then you can supply the same column used by <code>_network-level-attributes.yml</code> to indicate the unit code, and supply a single stratum area for the park.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-YAML data-lang=YAML><span style=color:#f92672>stratum id column</span>: <span style=color:#ae81ff>MDCATY</span>
<span style=color:#f92672>stratum area info</span>:
    <span style=color:#f92672>Gulley1</span>: <span style=color:#ae81ff>684731</span>
    <span style=color:#f92672>Gulley2</span>: <span style=color:#ae81ff>138247</span>
    <span style=color:#f92672>Upland</span>: <span style=color:#ae81ff>1063552</span>
</code></pre></div><p>The number assigned to each stratum under <code>stratum area info</code> corresponds to the total number of sites &ndash; regardless of the actual units &ndash; that <em>could</em> have been sampled in that stratum. In this example there are <code>684731</code> in <code>Gulley1</code> Thus, total number of sites sampled is a negligible proportion of the landscape. 684731 / (684731 + 138247 + 1063552) = 0.3629579</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/lzachmann/models-for-missing-data/commit/82ecc0bd79337c8455a25df1a249593652255541 title="Last modified by Luke Zachmann | Aug 23, 2021" target=_blank rel=noopener><img src=/models-for-missing-data/svg/calendar.svg class=book-icon alt=Calendar>
<span>Aug 23, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/lzachmann/models-for-missing-data/edit/main/docs/website/content/docs/guide/analysis-inputs/sampling-design.md target=_blank rel=noopener><img src=/models-for-missing-data/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#the-config-directory>The config directory</a><ul><li><a href=#network-level-attributes>Network-level attributes</a></li><li><a href=#park-level-attributes>Park-level attributes</a></li></ul></li></ul></nav></div></aside></main></body></html>